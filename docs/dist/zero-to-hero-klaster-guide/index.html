<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="/initializeTheme.iife.js"></script>
    
    <title data-react-helmet="true">Zero to Hero Guide: Building a Chain Abstracted Application – Klaster SDK Docs</title>
    <meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="Zero to Hero Guide: Building a Chain Abstracted Application"/><meta data-react-helmet="true" property="og:image" content="https://vocs.dev/api/og?logo=%https://content.pstmn.io/9af7177c-4ec7-40e4-855b-214ea62aaf5f/a2xhc3Rlcl9ib2plLnBuZw==&title=%Klaster&description=%Klaster"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="twitter:image" content="https://vocs.dev/api/og?logo=%https://content.pstmn.io/9af7177c-4ec7-40e4-855b-214ea62aaf5f/a2xhc3Rlcl9ib2plLnBuZw==&title=%Klaster&description=%Klaster"/>
    <link data-react-helmet="true" rel="icon" href="https://i.imgur.com/8ufmgAg.jpeg" type/>
    
    
    
  
    <script type="module" crossorigin src="/assets/index-CMKOqEG3.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/style-Ccnuma2Q.css">
  </head>
  <body>
    <div id="app"><div class="vocs_DocsLayout" data-layout="docs"><a class="vocs_SkipLink vocs_utils_visuallyHidden" href="/zero-to-hero-klaster-guide#vocs-content">Skip to content</a><div class="vocs_DocsLayout_gutterLeft"><aside class="vocs_Sidebar vocs_DocsLayout_sidebar"><div class="vocs_Sidebar_logoWrapper"><div class="vocs_Sidebar_logo"><a style="align-items:center;display:flex;height:100%" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="https://content.pstmn.io/9af7177c-4ec7-40e4-855b-214ea62aaf5f/a2xhc3Rlcl9ib2plLnBuZw=="/></a></div><div class="vocs_Sidebar_divider"></div></div><nav class="vocs_Sidebar_navigation"><div class="vocs_Sidebar_group"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/getting-started">🚗 Getting Started</a><a data-active="true" class="vocs_Sidebar_item" href="/zero-to-hero-klaster-guide">🚀 Zero to Hero Klaster Guide</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">🧠 SDK Core Concepts</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/concepts/interchain-transaction">⠀Interchain Transaction</a><a data-active="false" class="vocs_Sidebar_item" href="/concepts/multichain-account">⠀Multichain Smart Contract Account</a><a data-active="false" class="vocs_Sidebar_item" href="/concepts/multichain-public-client">⠀Multichain Public Client</a><a data-active="false" class="vocs_Sidebar_item" href="/concepts/multichain-token-mapping">⠀Multichain Token Mapping</a><a data-active="false" class="vocs_Sidebar_item" href="/concepts/bridge-plugins">⠀Bridging Plugins</a><a data-active="false" class="vocs_Sidebar_item" href="/concepts/unified-balance">⠀Unified Balance</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">👀 Demo Apps</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="https://demo-aave.klaster.io">→ 🔵 Chain Abstrated AAVE</a><div class="vocs_Sidebar_item">→ ⇶ Multichain Disperse (Soon)</div></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">🧾 Account Providers</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/accounts/biconomy">→ 🅱️ Biconomy</a><a data-active="false" class="vocs_Sidebar_item" href="/accounts/safe">→ 🟢 Safe</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">📦 Resources</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="https://klaster.io/assets/wp-new-latex.pdf">→ 🧬 Whitepaper (🔗)</a><a data-active="false" class="vocs_Sidebar_item" href="https://explorer.klaster.io">→ ⚓️ Klaster Explorer (🔗)</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">🕸️ Protocol</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/protocol">→ Understanding Klaster Protocol</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Additional resources</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item" href="/security-audit">→ 🥷 Security Audits</a><a data-active="false" class="vocs_Sidebar_item" href="/supported-networks-tokens">→ 🕸️ Supported Networks and Tokens</a></div></section></div></nav></aside></div><div class="vocs_DocsLayout_gutterTop vocs_DocsLayout_gutterTop_offsetLeftGutter"><div class="vocs_DesktopTopNav"><button class="vocs_DesktopSearch_search" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rlj:" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-top:2px"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>Search<div class="vocs_DesktopSearch_searchCommand"><div style="background:currentColor;transform:rotate(45deg);width:1.5px;border-radius:2px;height:100%"></div></div></button><div class="vocs_DesktopTopNav_logoWrapper"><div class="vocs_DesktopTopNav_logo"><a style="align-items:center;display:flex;height:56px;margin-top:4px" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="https://content.pstmn.io/9af7177c-4ec7-40e4-855b-214ea62aaf5f/a2xhc3Rlcl9ib2plLnBuZw=="/></a></div></div><div class="vocs_DesktopTopNav_section"></div><div class="vocs_DesktopTopNav_section"><div class="vocs_DesktopTopNav_group" style="margin-left:-8px;margin-right:-8px"><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://x.com/klaster_io" target="_blank" rel="noopener noreferrer"><div aria-label="X (Twitter)" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg></div></a></div><div class="vocs_DesktopTopNav_item"><a class="vocs_DesktopTopNav_button" href="https://github.com/0xPolycode" target="_blank" rel="noopener noreferrer"><div aria-label="GitHub" class="vocs_Icon vocs_DesktopTopNav_icon" role="img" style="--vocs_Icon_size:20px"><svg width="100%" height="100%" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></div></a></div></div><div class="vocs_DesktopTopNav_divider vocs_DesktopTopNav_hideCompact"></div><div class="vocs_DesktopTopNav_group vocs_DesktopTopNav_hideCompact" style="margin-left:-8px;margin-right:-8px"><div class="vocs_DesktopTopNav_item"><button class="vocs_DesktopTopNav_button" type="button"><div aria-label="Light" class="vocs_Icon vocs_DesktopTopNav_icon vocs_utils_visibleDark" role="img" style="--vocs_Icon_size:20px"><svg width="100%" height="100%" viewBox="0 0 84 84" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Sun</title><path d="M41.8675 15.5254C43.9183 15.5254 45.6273 13.7676 45.6273 11.7168V3.80658C45.6273 1.75588 43.9183 0.046875 41.8675 0.046875C39.7679 0.046875 38.0589 1.75588 38.0589 3.80658V11.7168C38.0589 13.7676 39.7679 15.5254 41.8675 15.5254ZM60.3246 23.2402C61.7895 24.7051 64.2309 24.7539 65.7446 23.2402L71.3598 17.6738C72.7758 16.209 72.7758 13.7188 71.3598 12.2539C69.8949 10.7891 67.4535 10.7891 65.9887 12.2539L60.3246 17.918C58.9086 19.3828 58.9086 21.7754 60.3246 23.2402ZM67.9906 41.7461C67.9906 43.7969 69.7485 45.5547 71.7992 45.5547H79.6117C81.7113 45.5547 83.4202 43.7969 83.4202 41.7461C83.4202 39.6953 81.7113 37.9375 79.6117 37.9375H71.7992C69.7485 37.9375 67.9906 39.6953 67.9906 41.7461ZM60.3246 60.3008C58.9086 61.7656 58.9086 64.1582 60.3246 65.623L65.9887 71.2871C67.4535 72.7519 69.8949 72.7031 71.3598 71.2383C72.7758 69.7734 72.7758 67.332 71.3598 65.8672L65.6957 60.3008C64.2309 58.8359 61.7895 58.8359 60.3246 60.3008ZM41.8675 67.9668C39.7679 67.9668 38.0589 69.7246 38.0589 71.7754V79.6855C38.0589 81.7363 39.7679 83.4453 41.8675 83.4453C43.9183 83.4453 45.6273 81.7363 45.6273 79.6855V71.7754C45.6273 69.7246 43.9183 67.9668 41.8675 67.9668ZM23.3617 60.3008C21.8969 58.8359 19.4067 58.8359 17.9418 60.3008L12.3754 65.8184C10.9106 67.2832 10.9106 69.7246 12.3266 71.1894C13.7914 72.6543 16.2328 72.7031 17.6977 71.2383L23.3129 65.623C24.7778 64.1582 24.7778 61.7656 23.3617 60.3008ZM15.6957 41.7461C15.6957 39.6953 13.9867 37.9375 11.8871 37.9375H4.07455C1.97497 37.9375 0.265991 39.6953 0.265991 41.7461C0.265991 43.7969 1.97497 45.5547 4.07455 45.5547H11.8871C13.9867 45.5547 15.6957 43.7969 15.6957 41.7461ZM23.3129 23.2402C24.7778 21.8242 24.7778 19.334 23.3617 17.918L17.7465 12.2539C16.3305 10.8379 13.8403 10.7891 12.4242 12.2539C10.9594 13.7188 10.9594 16.209 12.3754 17.625L17.9418 23.2402C19.4067 24.7051 21.8481 24.7051 23.3129 23.2402Z" fill="currentColor"></path><path d="M41.8675 61.668C52.7073 61.668 61.7405 52.6836 61.7405 41.7461C61.7405 30.8086 52.7073 21.8242 41.8675 21.8242C30.9788 21.8242 21.9456 30.8086 21.9456 41.7461C21.9456 52.6836 30.9788 61.668 41.8675 61.668ZM41.8675 55.0273C34.5921 55.0273 28.5862 48.9727 28.5862 41.7461C28.5862 34.5195 34.5921 28.4648 41.8675 28.4648C49.0941 28.4648 55.0999 34.5195 55.0999 41.7461C55.0999 48.9727 49.0941 55.0273 41.8675 55.0273Z" fill="currentColor"></path></svg></div><div aria-label="Dark" class="vocs_Icon vocs_DesktopTopNav_icon vocs_utils_visibleLight" role="img" style="margin-top:-2px;--vocs_Icon_size:20px"><svg width="100%" height="100%" viewBox="0 0 78 82" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Moon</title><path d="M62.8455 45.9668C63.6268 45.9668 64.2127 45.3809 64.3104 44.5508C65.4334 34.3457 66.0682 33.9551 76.4197 32.3438C77.3963 32.1973 77.9334 31.7578 77.9334 30.8789C77.9334 30.0977 77.3963 29.5605 76.6151 29.4629C66.1658 27.4609 65.4334 27.4609 64.3104 17.2559C64.2127 16.377 63.6268 15.8398 62.8455 15.8398C62.0154 15.8398 61.4783 16.377 61.3807 17.207C60.1111 27.6074 59.6229 28.0957 49.0272 29.4629C48.2947 29.5117 47.7088 30.0977 47.7088 30.8789C47.7088 31.709 48.2947 32.1973 49.0272 32.3438C59.6229 34.3457 60.0623 34.4434 61.3807 44.6484C61.4783 45.3809 62.0154 45.9668 62.8455 45.9668ZM44.535 19.5508C45.0233 19.5508 45.3162 19.2578 45.4139 18.7695C46.6834 12.4707 46.5369 12.373 53.1287 11.0547C53.5682 10.957 53.91 10.7129 53.91 10.1758C53.91 9.63868 53.5682 9.39448 53.1287 9.29688C46.5369 7.97848 46.6834 7.88089 45.4139 1.58199C45.3162 1.09379 45.0233 0.800781 44.535 0.800781C43.9979 0.800781 43.7049 1.09379 43.6072 1.58199C42.3377 7.88089 42.4842 7.97848 35.9412 9.29688C35.4529 9.39448 35.1111 9.63868 35.1111 10.1758C35.1111 10.7129 35.4529 10.957 35.9412 11.0547C42.4842 12.373 42.3865 12.4707 43.6072 18.7695C43.7049 19.2578 43.9979 19.5508 44.535 19.5508Z" fill="currentColor"></path><path d="M34.3298 81.2696C48.49 81.2696 59.9157 74.043 65.0915 61.7872C65.8239 59.9806 65.5798 58.6134 64.7497 57.7833C64.0173 57.0509 62.7478 56.9044 61.3318 57.4903C58.4509 58.6134 54.9353 59.2481 50.6384 59.2481C33.695 59.2481 22.7575 48.6036 22.7575 32.2462C22.7575 27.4122 23.6853 22.6759 24.7595 20.5763C25.5407 18.9161 25.4919 17.5001 24.8083 16.67C24.0271 15.7423 22.6599 15.4005 20.7068 16.1329C8.64624 20.7716 0.345459 33.4181 0.345459 47.8712C0.345459 66.8165 14.5056 81.2696 34.3298 81.2696ZM34.4275 74.5801C18.4607 74.5801 7.03494 62.9591 7.03494 47.3341C7.03494 38.2521 10.9411 30.0489 17.6306 24.629C16.8005 27.0704 16.361 30.6837 16.361 34.1505C16.361 52.8517 29.5446 65.6935 48.8806 65.6935C52.0544 65.6935 54.9841 65.3517 56.4001 64.9122C51.615 70.918 43.4607 74.5801 34.4275 74.5801Z" fill="currentColor"></path></svg></div></button></div></div></div></div><div class="vocs_MobileTopNav"><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group"><div class="vocs_MobileTopNav_logo"><a style="align-items:center;display:flex;height:100%" href="/"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="https://content.pstmn.io/9af7177c-4ec7-40e4-855b-214ea62aaf5f/a2xhc3Rlcl9ib2plLnBuZw=="/></a></div></div><div class="vocs_MobileTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_MobileTopNav_navigation vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"></ul></div></nav><div class="vocs_MobileTopNav_navigation vocs_MobileTopNav_navigation_compact"></div></div></div><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group" style="margin-right:-8px"><button class="vocs_MobileSearch_searchButton" type="button" aria-label="Search" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R39j:" data-state="closed"><svg width="21" height="21" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><div class="vocs_MobileTopNav_divider"></div><div class="vocs_MobileTopNav_group" style="margin-left:-8px"><a class="vocs_MobileTopNav_button" href="https://x.com/klaster_io" target="_blank" rel="noopener noreferrer"><div aria-label="X (Twitter)" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:16px"><svg width="100%" height="100%" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg></div></a><a class="vocs_MobileTopNav_button" href="https://github.com/0xPolycode" target="_blank" rel="noopener noreferrer"><div aria-label="GitHub" class="vocs_Icon vocs_MobileTopNav_icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></div></a></div></div></div></div><div class="vocs_DocsLayout_gutterTopCurtain vocs_DocsLayout_gutterTopCurtain_withSidebar"><div class="vocs_DesktopTopNav_curtain"></div><div class="vocs_MobileTopNav_curtain"><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Rqj:" data-state="closed" class="vocs_MobileTopNav_menuTrigger"><div aria-label="Menu" class="vocs_Icon" role="img" style="--vocs_Icon_size:13px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 79 48" fill="none"><title>Menu</title><path fill="currentColor" d="M19.528 47.232h40.87c1.952 0 3.515-1.562 3.515-3.564a3.5 3.5 0 0 0-3.516-3.516H19.528a3.501 3.501 0 0 0-3.515 3.516c0 2.002 1.562 3.564 3.515 3.564ZM12.057 27.262h55.81a3.501 3.501 0 0 0 3.516-3.516 3.501 3.501 0 0 0-3.515-3.515h-55.81a3.501 3.501 0 0 0-3.516 3.515 3.501 3.501 0 0 0 3.515 3.516ZM4.391 7.34H75.29c2.002 0 3.515-1.563 3.515-3.516 0-2.002-1.513-3.564-3.515-3.564H4.39C2.438.26.876 1.822.876 3.824A3.501 3.501 0 0 0 4.39 7.34Z"></path></svg></div><div class="vocs_MobileTopNav_menuTitle">🚀 Zero to Hero Klaster Guide</div></button></div></div><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R5aj:" data-state="closed" class="vocs_MobileTopNav_outlineTrigger">On this page<div aria-label="On this page" class="vocs_Icon" role="img" style="--vocs_Icon_size:10px"><svg width="100%" height="100%" viewBox="0 0 39 69" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M38.8697 34.7461C38.8697 33.6719 38.4791 32.6953 37.649 31.8652L7.47318 1.8848C6.74078 1.1035 5.76418 0.712891 4.64118 0.712891C2.34618 0.712891 0.588379 2.42189 0.588379 4.71679C0.588379 5.79099 1.07668 6.81639 1.76028 7.59769L29.0552 34.7461L1.76028 61.8945C1.07668 62.6758 0.588379 63.6523 0.588379 64.7754C0.588379 67.0703 2.34618 68.7793 4.64118 68.7793C5.76418 68.7793 6.74078 68.3887 7.47318 67.6074L37.649 37.627C38.4791 36.7969 38.8697 35.8203 38.8697 34.7461Z" fill="currentColor"></path></svg></div></button></div></div></div></div><div class="vocs_DocsLayout_gutterRight vocs_DocsLayout_gutterRight_withSidebar"></div><div id="vocs-content" class="vocs_DocsLayout_content vocs_DocsLayout_content_withSidebar vocs_DocsLayout_content_withTopNav"><article class="vocs_Content"><header class="vocs_Header"><h1 class="vocs_H1 vocs_Heading"><div id="zero-to-hero-guide-building-a-chain-abstracted-application" class="vocs_Heading_slugTarget"></div>Zero to Hero Guide: Building a Chain Abstracted Application<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#zero-to-hero-guide-building-a-chain-abstracted-application"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h1></header>
<p class="vocs_Paragraph"><img src="https://i.imgur.com/vHWji39.jpeg" alt="Ca"/></p>
<p class="vocs_Paragraph">This will be a zero-to-hero introduction to the Klaster SDK. Here, we will explore all of the main concepts pertaining to
the development of chain abstracted apps and flows.</p>
<p class="vocs_Paragraph">In this tutorial, you will get all the required steps to build a chain abstracted application. If you&#x27;re interested in what
a chain abstracted application looks like, check out our video on AbstraktAAVE - a chain abstracted implementation of AAVE.</p>
<iframe width="640" height="416" src="https://www.loom.com/embed/e226679dc2c2494bbbf4e880937e3037?sid=ab3b4aae-5cb6-4d85-af70-4ac240c9e296" frameborder="0"></iframe>
<p class="vocs_Paragraph">You can also use the app yourself at:</p>
<p class="vocs_Paragraph"><a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined vocs_ExternalLink" href="https://demo-aave.klaster.io" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">https://demo-aave.klaster.io</a></p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">While Klaster works with all major Ethereum SDK providers, such as ethers.js, web3.js and viem - it works best when used
in conjuction with viem.</p></aside>
<h2 class="vocs_H2 vocs_Heading"><div id="install-klaster-and-viem" class="vocs_Heading_slugTarget"></div>Install Klaster and Viem<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#install-klaster-and-viem"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">npm</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> i</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> klaster-sdk</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> viem</span></span></code></pre></div></div>
<h2 class="vocs_H2 vocs_Heading"><div id="create-a-signer-object" class="vocs_Heading_slugTarget"></div>Create a signer object<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#create-a-signer-object"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Usign viem, create a signer object - which will be used to sign transactions.</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  buildMultichainReadonlyClient,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  buildRpcInfo,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  initKlaster,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  klasterNodeHost,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  loadBicoV2Account,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">} </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> &quot;klaster-sdk&quot;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> { createWalletClient, custom, http } </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> &quot;viem&quot;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> { generatePrivateKey, privateKeyToAccount } </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> &quot;viem/accounts&quot;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> { arbitrum, base, optimism, polygon, scroll } </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> &quot;viem/chains&quot;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// When in browser environment create a signer</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// which uses the injected wallet (e.g. MetaMask, Rabby, ...)</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> signer</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> createWalletClient</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  transport: </span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">custom</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">((window </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">as</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> any</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">).ethereum),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">});</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// When in non-browser environment you can use private key</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// to sign messages.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> privateKey</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> generatePrivateKey</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">();</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> signerAccount</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> privateKeyToAccount</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(privateKey);</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> signer</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> createWalletClient</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  transport: </span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">http</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">});</span></span></code></pre></div></div>
<h2 class="vocs_H2 vocs_Heading"><div id="initialize-klaster-sdk" class="vocs_Heading_slugTarget"></div>Initialize Klaster SDK<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#initialize-klaster-sdk"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">To initialize the Klaster SDK, you must provide it with the following information:</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">Klaster Node URL</li>
<li class="vocs_ListItem">ERC4337 Account Provider</li>
</ul>
<p class="vocs_Paragraph">You can use multiple account providers (check documentation reference for supported account providers). In this tutorial,
we will use the Biconomy account provider:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// Fetch the address from viem. You might need to call signer.requestAddresses()</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// depending on your injected Web3 provider.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> [</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">address</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">] </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">=</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> await</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> signer.</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">getAddresses</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">();</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// Initializing the Klaster SDK with Biconomy as the smart contract account</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// provider.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> klaster</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> await</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> initKlaster</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  accountInitData: </span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">loadBicoV2Account</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    owner: address, </span><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// Fetch</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  }),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  nodeUrl: klasterNodeHost.default,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">});</span></span></code></pre></div></div>
<h2 class="vocs_H2 vocs_Heading"><div id="initialize-a-multichain-readonly-rpc-client" class="vocs_Heading_slugTarget"></div>Initialize a multichain readonly RPC client<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#initialize-a-multichain-readonly-rpc-client"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">In order to achieve certain functionality for chain abstraction, such as getting a unified token balance across chains
or encoding bridging actions - you will need to have a public RPC for every chain you wish to interact with. Do note
that this is only a public RPC, you don&#x27;t need to have the abilty to write to chain - as this is handled by the Klaster nodes.</p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">This tutorial project will be using Optimism, Base, Polygon, Arbitrum and Scroll as the underlying blockchains</p></aside>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// Build a multichain client by calling the buildMultichainReadonlyClient</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// and passing the buildRpcInfo objects into the array</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> mcClient</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> buildMultichainReadonlyClient</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">([</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">  buildRpcInfo</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(optimism.id, </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">&quot;&lt;op-rpc-url&gt;&quot;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">),</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">  buildRpcInfo</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(base.id, </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">&quot;&lt;base-rpc-url&gt;&quot;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">]);</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Since this is a tutorial project, we can use the <code class="vocs_Code">viem</code> default RPCs.</p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_warning"><p class="vocs_Paragraph">This is highly discouraged in a production project. Use private RPCs when deploying to production.</p></aside>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// This is a hacky way of doing this, just to get you quickly started</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// with the tutorial. Please don&#x27;t initialize the client like this in</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// production projects.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> mcClient</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> buildMultichainReadonlyClient</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  [optimism, base, polygon, arbitrum, scroll].</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">map</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">((</span><span style="color:#E36209;--shiki-dark:#F69D50" class="vocs_Span">x</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">=&gt;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">    return</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">      chainId: x.id,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">      rpcUrl: x.rpcUrls.default.http[</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">0</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">],</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    };</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  })</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">);</span></span></code></pre></div></div>
<h2 class="vocs_H2 vocs_Heading"><div id="map-token-deployments-across-multiple-blockchains" class="vocs_Heading_slugTarget"></div>Map token deployments across multiple blockchains<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#map-token-deployments-across-multiple-blockchains"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">As well as working with the Multichain RPC provider, the Klaster SDK works best when provided with <code class="vocs_Code">MultichainTokenMapping</code>
objects. These objects represent mappings of tokens you consider <em>equivalent</em> across various blockchains. One example would
be <em>USDC</em> - which is widely deployed by Circle across multiple blockchains.</p>
<p class="vocs_Paragraph">You can use the Circle <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined" href="/zero-to-hero-klaster-guide/&#x27;https://www.circle.com/en/multi-chain-usdc&#x27;">Token Deployments</a> to see which address the canonical
version of which token is deployed to.</p>
<p class="vocs_Paragraph">However, nothing limits you to using only offical token deployments. If you consider the <code class="vocs_Code">axlUSDC</code> to be equivalent to cannonical
<code class="vocs_Code">USDC</code> - you can simply map them together and the Klaster SDK will treat them as if they&#x27;re the same token. You can provide one
token per chain.</p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">One hard requirement for all tokens in a single mapping is that they all must have the same number of decimals.</p></aside>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// Build a token mapping by calling the buildTokenMapping function and passing instances of</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// deployment object into the array. These represent the chainId → address mappings.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> mcUSDC</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> buildTokenMapping</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">([</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">  deployment</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(optimism.id, </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">&quot;0x&lt;USDC-ON-OPTIMISM-ADDRESS&gt;&quot;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">),</span></span>
<span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">  deployment</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(base.id, </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">&quot;0x&lt;USDC-ON-OPTIMISM-ADDRESS&gt;&quot;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">]);</span></span></code></pre></div></div>
<p class="vocs_Paragraph">The Klaster SDK exposes some multichain tokens by default. These are <code class="vocs_Code">mcUSDC</code> and <code class="vocs_Code">mcUSDT</code>. They are available to you
as exported constants. They expose deployments on a lot of blockchains so it&#x27;s important that you truncate them before
usage only to blockchains which you use.</p>
<aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">The default Klaster exported tokens might not fit your project. Please double check the documentation to learn which tokens the Klaster SDK considers to be cannonical and idential to eachother.</p></aside>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// A lambda which intersects the chains available in the</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// token mapping with the ones available in the multichain client.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// In general, you should not be using this in a production project.</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// Instead, you should create your own tokenmappings by the method shown</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// above.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> intersectTokenAndClients</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> (</span></span>
<span class="line vocs_Span"><span style="color:#E36209;--shiki-dark:#F69D50" class="vocs_Span">  token</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> MultichainTokenMapping</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#E36209;--shiki-dark:#F69D50" class="vocs_Span">  mcClient</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> MultichainClient</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">=&gt;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">  return</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> token.</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">filter</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">((</span><span style="color:#E36209;--shiki-dark:#F69D50" class="vocs_Span">deployment</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">=&gt;</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    mcClient.chainsRpcInfo</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">      .</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">map</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">((</span><span style="color:#E36209;--shiki-dark:#F69D50" class="vocs_Span">info</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">=&gt;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> info.chainId)</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">      .</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">includes</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(deployment.chainId)</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  );</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">};</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// Store the intersection of the Klaster provided token and the chains your project is using.</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> mUSDC</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> intersectTokenAndClients</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(mcUSDC, mcClient);</span></span></code></pre></div></div>
<h2 class="vocs_H2 vocs_Heading"><div id="create-a-bridging-plugin" class="vocs_Heading_slugTarget"></div>Create a Bridging Plugin<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#create-a-bridging-plugin"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Klaster introduces a concept of <em>Bridging Plugigs</em>. Yoa can think of them as templates, which the Klaster SDK
uses to encode and execute a bridging action whenever it needs to. Since Klaster is an agnostic protocol and SDK,
every function that might require bridging can accept the function of type <code class="vocs_Code">BridgePlugin</code> as input.</p>
<p class="vocs_Paragraph">For this tutorial we have prepared a <a class="vocs_Anchor vocs_Link vocs_Link_accent_underlined" href="/zero-to-hero-klaster-guide/&#x27;https://li.fi&#x27;">LiFi</a> bridging plugin example.</p>
<p class="vocs_Paragraph">But in general, what is a Klaster Bridging Plugin?</p>
<p class="vocs_Paragraph">It&#x27;s a simple function which provides a <code class="vocs_Code">data</code> object containing things needed to encode a brdiging transaction such as
<code class="vocs_Code">sourceChainId</code>, <code class="vocs_Code">destinationChainId</code>, <code class="vocs_Code">sourceToken</code>, <code class="vocs_Code">destinationToken</code>, <code class="vocs_Code">amount</code>, etc... and expects an object in return
which tells the Klaster SDK i) which transactions need to be executed ii) how much will be received on destination.</p>
<p class="vocs_Paragraph">For this tutorial, we can create a LiFi bridging plugin, which will leverage LiFi Aggregation to get us the fastest route
available for every transfer. Since Klaster is primarily a user experience oriented framework, the speed of execution is
paramout!</p>
<p class="vocs_Paragraph">First, install the <code class="vocs_Code">LiFi SDK</code></p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span">npm</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> i</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> @lifi/sdk</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Then write the plugin:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> { getRoutes, RoutesRequest } </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> &quot;@lifi/sdk&quot;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> { Address, batchTx, BridgePlugin, rawTx } </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> &quot;klaster-sdk&quot;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">;</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">import</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> { Hex } </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">from</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span"> &quot;viem&quot;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">export</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> const</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> liFiBrigePlugin</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> BridgePlugin</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> async</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> (</span><span style="color:#E36209;--shiki-dark:#F69D50" class="vocs_Span">data</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">=&gt;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> {</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">  const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> routesRequest</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">:</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> RoutesRequest</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    fromChainId: data.sourceChainId,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    toChainId: data.destinationChainId,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    fromTokenAddress: data.sourceToken,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    toTokenAddress: data.destinationToken,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    fromAmount: data.amount.</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">toString</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    options: {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">      order: </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">&quot;FASTEST&quot;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    },</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  };</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">  const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> result</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> await</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> getRoutes</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(routesRequest);</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">  const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> route</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> result.routes.</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">at</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">0</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">)</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">  if</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> (</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">!</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">route) {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">    throw</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> Error</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">&#x27;...&#x27;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">);</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  }</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">  const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> routeSteps</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> route.steps.</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">map</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span><span style="color:#E36209;--shiki-dark:#F69D50" class="vocs_Span">step</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =&gt;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">    if</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">!</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">step.transactionRequest) { </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">throw</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> Error</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">&#x27;...&#x27;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) }</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">    const</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> { </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">to</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">gasLimit</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">data</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">value</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">} </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">=</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> step.transactionRequest</span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">    if</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">!</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">to </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">||</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> !</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">gasLimit </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">||</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> !</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">data </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">||</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> !</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">value) { </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">throw</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> Error</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">&#x27;...&#x27;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">) } </span></span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">    return</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> rawTx</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">      to: to </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">as</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> Address</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">      gasLimit: </span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">BigInt</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(gasLimit),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">      data: data </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">as</span><span style="color:#6F42C1;--shiki-dark:#F69D50" class="vocs_Span"> Hex</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">      value: </span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">BigInt</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(value)</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    })</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  })</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">  return</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    receivedOnDestination: </span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">BigInt</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(route.toAmountMin),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    txBatch: </span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">batchTx</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(data.sourceChainId, routeSteps)</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  }</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">};</span></span></code></pre></div></div>
<p class="vocs_Paragraph">It&#x27;s as simple as that! Now - you Klaster SDK has LiFi support 🥳</p>
<h2 class="vocs_H2 vocs_Heading"><div id="fetching-a-unified-balance" class="vocs_Heading_slugTarget"></div>Fetching a Unified Balance<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#fetching-a-unified-balance"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">In order to achieve true chain abstraction, the user should be presented with a unified ERC20 balance across
all of the chains that the app is using.</p>
<p class="vocs_Paragraph">For example, in the Klaster AbstraktAAVE Demo app, you can see the unified balance:
<img src="https://i.imgur.com/IK1gRRt.png" alt="Unified"/></p>
<p class="vocs_Paragraph">and then the breakdown per chain:</p>
<img src="https://i.imgur.com/PJneGgj.png" width="400"/>
<p class="vocs_Paragraph">In order to achieve this, you can use the Multichain token and Multichain RPC objects from earlier:</p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> uBalance</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> await</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> mcClient.</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">getUnifiedErc20Balance</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  tokenMapping: mUSDC,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  account: klaster.account,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">});</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// Total balance across all used chains, expressed in base units</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">uBalance.balance;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// Breakdown of balances across each separate blockchain</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">uBalance.breakdown;</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// The decimals of the token. In order for tokenMapping to be created,</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// all instances must have the same number of decimals.</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">uBalance.decimals;</span></span></code></pre></div></div>
<h2 class="vocs_H2 vocs_Heading"><div id="encoding-the-bridging--execution-actions" class="vocs_Heading_slugTarget"></div>Encoding the bridging + execution actions<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#encoding-the-bridging--execution-actions"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Okay! Finally our entire setup is complete. This is most definitely one of the more complex cases which Klaster
covers - a fully chain abstracted app, so the amount of setup is a bit higher. For simpler cases, such as a unified
deposit address of one-click checkout flows, a lot of these steps can be omitted.</p>
<p class="vocs_Paragraph">So, for this demo, we&#x27;ll say that we want to send the amount we receive from bridging on the destination chain to some other address. This in an intentionally simplistic case, and it could have been solved by just using LiFi bridge function, but for the purposes of this tutorial it just demonstrates how Klaster works.</p>
<div class="vocs_Steps"><div class="vocs_Step"><h3 class="vocs_Step_title vocs_H3 vocs_Heading"><div id="encoding-the-bridging-operations" class="vocs_Heading_slugTarget"></div>Encoding the bridging operations<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#encoding-the-bridging-operations"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3><div class="vocs_Step_content"><p class="vocs_Paragraph">In your own project, you&#x27;ll be able to encode arbitrarily complex actions across any number of blockchains. For example, in
the AAVE case, after a token lands on the destination chain, the <code class="vocs_Code">supply</code> function is called on the AAVE Smart Contract</p><p class="vocs_Paragraph">Anyways let&#x27;s continue. The SDK is intelligent enough to calculate on its own the required steps to get some amount of
tokens on some desired destination chain.</p><p class="vocs_Paragraph">Let&#x27;s assume a following situation. You have:</p><ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">10 USDC on Polygon</li>
<li class="vocs_ListItem">20 USDC on Optimism</li>
<li class="vocs_ListItem">12 USDC on Scroll</li>
</ul><p class="vocs_Paragraph">and you&#x27;re trying to call some function on Base with 35 USDC while having zero USDC on Base. What the Klaster
SDK will do is calculate a route for bridging your tokens:</p><p class="vocs_Paragraph">e.g. take 20 USDC (total balance) from OP, 12 USDC (total balance) from Scroll and 3 USDC (+ additional for what was lost to
bridge fees when bridging from chains where you took the total balance) from Polygon and bridge it all to Base. Once the funds
arrive to Base - call the desired function there!</p><p class="vocs_Paragraph">For most cases, the SDK will be able to calculate te exact routes for bridging to get your desired outcome. If this is not
possible, you can always encode them yourself.</p><p class="vocs_Paragraph">The function that does the calculations is called <code class="vocs_Code">encodeBridgingOps</code>. Simply pass all of the required parameters and as
an output you&#x27;ll get a series of steps (EVM Transactions) to be executed on one or more blockchains to get your desired <code class="vocs_Code">amount</code>
onto your desired <code class="vocs_Code">destinationChain</code></p><div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> bridgingOps</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> await</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> encodeBridgingOps</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  tokenMapping: mUSDC,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  account: klaster.account,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  amount: uBalance.balance </span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">-</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> parseUnits</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">&quot;1&quot;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">, uBalance.decimals), </span><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// Don&#x27;t send entire balance</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  bridgePlugin: liFiBrigePlugin,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  client: mcClient,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  destinationChainId: base.id,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  unifiedBalance: uBalance,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">});</span></span></code></pre></div></div></div></div><div class="vocs_Step"><h3 class="vocs_Step_title vocs_H3 vocs_Heading"><div id="encoding-the-desired-action" class="vocs_Heading_slugTarget"></div>Encoding the desired action<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#encoding-the-desired-action"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3><div class="vocs_Step_content"><p class="vocs_Paragraph">Now we can encode the <code class="vocs_Code">transfer</code> call on the destination chain. This is done with the call to the Klaster SDK <code class="vocs_Code">rawTx</code> helper
function:</p><div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> sendERC20Op</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> rawTx</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  gasLimit: </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">100000</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">n</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  to: destChainTokenAddress,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  data: </span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">encodeFunctionData</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    abi: erc20Abi,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    functionName: </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">&quot;transfer&quot;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    args: [recipient, bridgingOps.totalReceivedOnDestination],</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  }),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">});</span></span></code></pre></div></div><p class="vocs_Paragraph">Note one thing here, the usage of <code class="vocs_Code">bridgingOps.totalReceivedOnDestination</code> - this is a variable which has calculated
how much assets will be available on the destination chain <em>after</em> bridging has completed. If you had zero on the destination
then this will be the total amount available. If you had <code class="vocs_Code">&gt; 0</code> available then the total available will be</p><p class="vocs_Paragraph"><code class="vocs_Code">totalReceivedOnDestination + balanceOnDestination</code></p></div></div><div class="vocs_Step"><h3 class="vocs_Step_title vocs_H3 vocs_Heading"><div id="creating-an-interchain-transaction" class="vocs_Heading_slugTarget"></div>Creating an Interchain Transaction<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#creating-an-interchain-transaction"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3><div class="vocs_Step_content"><p class="vocs_Paragraph">Now, we can use all of the transactions we have created to encode an <em>interchain transaction</em> or an <em>iTx</em>. An iTx is an
object containing one or more transactions across one or more blockchains. In our case, the iTx will contain</p><ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">All necessary approve + bridging transactions calculated by the <code class="vocs_Code">encodeBridgingOps</code> function - on the source chain(s)</li>
<li class="vocs_ListItem">The send transaction on the destination chain</li>
</ul><p class="vocs_Paragraph">To create an iTx, we use the helper function <code class="vocs_Code">buildItx</code>.</p><div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> iTx</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span"> buildItx</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">  // BridgingOPs + Execution on the destination chain</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">  // added as steps to the iTx</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  steps: bridgingOps.steps.</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">concat</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">singleTx</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(destinationChainId, sendERC20Op)),</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">  // Klaster works with cross-chain gas abstraction. This instructs the Klaster</span></span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">  // nodes to take USDC on Optimism as tx fee payment.</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  feeTx: klaster.</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">encodePaymentFee</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(optimism.id, </span><span style="color:#032F62;--shiki-dark:#96D0FF" class="vocs_Span">&quot;USDC&quot;</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">),</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">});</span></span></code></pre></div></div></div></div></div>
<h2 class="vocs_H2 vocs_Heading"><div id="executing-the-interchain-transaction" class="vocs_Heading_slugTarget"></div>Executing the Interchain Transaction<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#executing-the-interchain-transaction"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Now that we have everything we need encoded in the iTx object, we can send it to the Klaster network for execution.</p>
<div class="vocs_Steps"><div class="vocs_Step"><h3 class="vocs_Step_title vocs_H3 vocs_Heading"><div id="getting-a-quote" class="vocs_Heading_slugTarget"></div>Getting a quote<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#getting-a-quote"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3><div class="vocs_Step_content"><p class="vocs_Paragraph">Executing an Interchain transaction is a two-step process. The first part of the process is getting a <code class="vocs_Code">quote</code> from the
Klaster Network. The quote will tell you how much the node wants to charge for the execution of the transaction in the
token which you set in the <code class="vocs_Code">feeTx</code> field when building an iTx.</p><p class="vocs_Paragraph">To get the quote, call:</p><div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> quote</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> await</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> klaster.</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">getQuote</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(iTx);</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#6A737D;--shiki-dark:#768390" class="vocs_Span">// The amount of USD that the node is willing to execute the iTx for</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">quote.tokenValue;</span></span></code></pre></div></div></div></div><div class="vocs_Step"><h3 class="vocs_Step_title vocs_H3 vocs_Heading"><div id="signing-the-quote" class="vocs_Heading_slugTarget"></div>Signing the quote<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#signing-the-quote"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3><div class="vocs_Step_content"><p class="vocs_Paragraph">If you&#x27;re satisfied with the quoted execution price, prompt the user to sign the iTx hash. You can get the hash from the
<code class="vocs_Code">quote</code> object. By signing the iTx hash you&#x27;re giving the Klaster Nodes approval to execute the transactions within the
iTx. This is cryptographically verified by smart contracts on every chain where the data is being executed - so the nodes
are unable to execute anything without the explicit approval from the user.</p><aside class="vocs_Aside vocs_Callout vocs_Callout_info"><p class="vocs_Paragraph">If you&#x27;re using <code class="vocs_Code">viem</code> - make sure to use the message → raw to sign. If you pass the message directly into the message object,
you will get an error that you&#x27;re using the wrong signature.</p></aside><div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> signed</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> await</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> signer.</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">signMessage</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">({</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  message: {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">    raw: quote.itxHash,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  },</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">  account: signerAccount,</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">});</span></span></code></pre></div></div></div></div><div class="vocs_Step"><h3 class="vocs_Step_title vocs_H3 vocs_Heading"><div id="sending-the-itx-for-execution" class="vocs_Heading_slugTarget"></div>Sending the iTx for execution<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#sending-the-itx-for-execution"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3><div class="vocs_Step_content"><p class="vocs_Paragraph">After the user has signed the iTx hash, pass the <code class="vocs_Code">QuoteResponse</code> together with the signed hash to the <code class="vocs_Code">execute</code> function.</p><div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span">const</span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span"> result</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> =</span><span style="color:#D73A49;--shiki-dark:#F47067" class="vocs_Span"> await</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> klaster.</span><span style="color:#6F42C1;--shiki-dark:#DCBDFB" class="vocs_Span">execute</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">(quote, signed)</span></span></code></pre></div></div></div></div><div class="vocs_Step"><h3 class="vocs_Step_title vocs_H3 vocs_Heading"><div id="tracking-the-execution" class="vocs_Heading_slugTarget"></div>Tracking the execution<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#tracking-the-execution"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3><div class="vocs_Step_content"><p class="vocs_Paragraph">After the iTx has been received by the Klaster Network, you will receive a result from the <code class="vocs_Code">execute</code> function. In that result,
you will have the iTx hash. You can go to the Klaster Explorer to check the status of the hash:</p><p class="vocs_Paragraph"><code class="vocs_Code">https://explorer.klaster.io/details/{iTxHash}</code></p></div></div></div>
<h2 class="vocs_H2 vocs_Heading"><div id="conclusion" class="vocs_Heading_slugTarget"></div>Conclusion<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/zero-to-hero-klaster-guide#conclusion"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Congrats - you have sucessfully executed your first Interchain Transaction and prepared your project for chain abstraction.</p></article><footer class="vocs_Footer"><div class="vocs_Footer_container"></div></footer></div><div data-bottom-observer="true"></div></div></div>
  </body>
</html>
